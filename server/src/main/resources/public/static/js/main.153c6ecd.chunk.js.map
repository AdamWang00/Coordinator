{"version":3,"sources":["utils/definitions.js","utils/arrayHelperFunctions.js","utils/randomHelperFunctions.js","ScheduleEditor.js","MeetingTimeCard.js","MeetingGroupCard.js","MeetingGroupsView.js","Textbox.js","CreateGroupView.js","UserView.js","LoginView.js","index.js"],"names":["baseUrl","dayNames","rows","subdivisions","defaultOpacity","rgba","r","g","b","a","minutesToHourMin","input","hours","Math","floor","min","numToHex2Digit","num","hex","Number","toString","length","rgbToHexString","hexStringToRgb","hexString","result","exec","parseInt","hexStringToRgba","rgb","config","loginToken","headers","increment","x","enterToClick","callbackFn","e","idToFocusOn","key","setTimeout","document","getElementById","focus","diagnosticLogStyle","inputTooShortAlert","c","inputTooLongAlert","clone","items","map","item","Array","isArray","transpose","array","_","colIndex","row","vecLocalToOrFromUTC","vec","toUTC","offset","Date","getTimezoneOffset","slice","vecToTable","console","error","table","i","push","vecIndexToTableIndex","vecIndexToString","returnDayString","check","div","mod","dayString","hourString","ampm","minuteString","vecIndexPairToString","j","res1","ds1","randInt","max","random","widthStyle","width","roundForChrome","navigator","userAgent","indexOf","round","selectRegion","info","endRow","endCol","copy","startRow","startCol","col","setTo","ijToTableDataId","generateSECellOverlays","selectedTimes","rerenderTrigger","times","pinnedTimes","highlightedTime","scheduleEditorTable","tableRect","getBoundingClientRect","parH","height","compT","top","compL","left","divList","appendSEOverlayDivStyle","Fragment","ele","className","extraClass","data-tooltip","extraTooltip","style","extraStyle","divStyles","meetingTime","startIndex","endIndex","groupName","startI","startJ","endI","endJ","endCell","endCellRect","opacity","bgColor","currCell","currCellRect","newStyle","backgroundColor","log","ScheduleEditor","f","bool","useState","compressed","setCompressed","setRerenderTrigger","scheduleTable","setScheduleTable","selectStartInfo","setSelectStartInfo","utcOffset","onMouseLeaveOrUpEndSelection","useCallback","preventDefault","target","contains","onClickCompressEditor","compress","stopPropagation","repeatRerender","compressDelay","traverseCell","dir","cols","selectCell","newInfo","generateSECell","cell","str","id","classes","join","tabIndex","onKeyDown","keyCommands","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Enter","q","w","s","d","onKeyDownSECellHandler","onFocus","onFocusSECell","onMouseDown","onMouseDownBeginSelection","onMouseMove","onMouseMoveContinueSelection","useEffect","body","schedule","flat","axios","post","then","response","data","message","catch","alert","get","addEventListener","window","removeEventListener","onClick","shiftKey","keys","hour","from","fill","MeetingTimeCard","mt","setSelectedTimes","pref","setPrefs","isMember","highestScore","setGroupRefreshCount","onMouseEnterHighlightTime","prev","onClickTogglePinnedTime","type","updatedIsPinned","undefined","find","pmt","meetingTimeId","filter","onSetPreference","newPref","value","meetingGroupId","updatedScore","onMouseEnter","totalPreferenceScore","name","checked","onChange","MeetingGroupCardButton","label","tooltip","content","aria-label","MeetingGroupCard","meetingGroup","username","prefs","setHighestScore","memberListCollapsed","setMemberListCollapsed","isLocked","parentMeetingGroupId","currentState","hasMembers","members","groupColorStyle","meetingTimes","newMax","apply","preferences","preferenceScore","t","currentIsPinned","isPinned","onMouseOverShowAllTimes","bottom","querySelector","onClickCopyId","temp","createElement","append","joinCode","select","setSelectionRange","execCommand","remove","setAttribute","memToJsx","others","mem","adminUsername","includes","displayYou","onMouseOver","onMouseLeave","disabled","confirm","delete","meetingDurationMinutes","subgroupSize","MeetingGroupsView","meetingGroups","reverse","TextBox","placeholder","onChangeFunc","extraLabelAttrs","extraAttrs","htmlFor","step","required","aria-required","autoComplete","CreateGroupView","setCreateGroupPanelOpen","meetingGroupName","setMeetingGroupName","setMeetingDurationMinutes","setSubgroupSize","onClickCloseCreateGroupPanel","isCancelButton","onSubmit","roundedMinutes","ceil","autoFocus","groupIdRegexNoHex","RegExp","groupIdRegexHex","UserView","setUsername","setLoginToken","setMeetingGroups","meetingGroupRefreshCount","createGroupPanelOpen","promptLogout","intervalHandle","setInterval","clearInterval","groups","list","user","indexUtcToLocal","group","groupRgb","listOfGroupsUtcToLocalAndOtherStuff","qty","alpha","randAlphaNum","prompt","trim","match","mg","loginHeaderOptions","loginSubheaderDefault","registerHeaderOptions","LoginView","loginHeader","setLoginHeader","loginSubheader","setLoginSubheader","usernameInput","setUsernameInput","passwordInput","setPasswordInput","registeringMode","setRegisteringMode","postUrl","errorAlert","password","token","minLength","maxLength","App","useCookies","cookies","setCookie","title","u","ReactDOM","render","CookiesProvider"],"mappings":"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","file":"static/js/main.153c6ecd.chunk.js","sourcesContent":["export const baseUrl = \"http://coordinator.adamwang.me\"\n\n// Self-Explanatory\nexport const groupIdLength = 6\nexport const usernameMinLength = 2\nexport const usernameMaxLength = 20\nexport const passwordMinLength = 2\nexport const passwordMaxLength = 20\nexport const meetingGroupNameMinLength = 2\nexport const meetingGroupNameMaxLength = 100\nexport const meetingGroupViewRefreshDelay = 5000\nexport const dayNames = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"]\n\n// Various definitions to be kept in sync with the css\nexport const subdivisions = 4\nexport const timeIntervalMinutes = 60 / 4\nexport const rows = subdivisions * 24\nexport const cols = 7\nexport const horizontalBorderWidth = 1\nexport const verticalBorderWidth = 1\nexport const compressDelay = 500\n\n// Creates a css color string\nexport const pinnedOpacity = 1\nexport const defaultOpacity = 0.5\nexport const rgba = (r, g, b, a = defaultOpacity) =>\n    \"rgba(\" + r + \", \" + g + \", \" + b + \", \" + a + \")\"\n\n// Sneaky currying\nexport function curry(f) { // curry(f) does the currying transform\n  return function(a) {\n    return function(b) {\n      return f(a, b);\n    };\n  };\n}\n\n// String printing\nexport const minutesToHourMin = input => {\n  const hours = Math.floor(input / 60)\n  const hoursString = hours ? hours + \"h \" : \"\"\n  const min = input % 60\n  const minString = min ? min + \"min\" : \"\"\n  return hoursString + minString\n}\n\n// Color conversions\nexport const numToHex2Digit = (num) => {\n  let hex = Number(num).toString(16)\n  if (hex.length < 2) hex = \"0\" + hex\n  return hex\n}\nexport const rgbToHexString = (r, g, b) => {\n  return \"#\" + numToHex2Digit(r) + numToHex2Digit(g) + numToHex2Digit(b)\n}\nexport const hexStringToRgb = (hexString) => {\n  // StackOverflow: Tim Down 2011\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hexString)\n  return result ? {\n    r: parseInt(result[1], 16),\n    g: parseInt(result[2], 16),\n    b: parseInt(result[3], 16)\n  } : null\n}\nexport const hexStringToRgba = (hexString, a = defaultOpacity) => {\n  const rgb = hexStringToRgb(hexString)\n  return rgba(rgb.r, rgb.g, rgb.b, a)\n}\n\n// For axios\nexport const config = (loginToken) => {\n  return {\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": loginToken,\n    }\n  }\n}\n\n// Misc for brevity\nexport const increment = x => x + 1\nexport const enterToClick = (callbackFn, e, idToFocusOn = null) => {\n  if (e.key !== \"Enter\") return\n  callbackFn(e)\n  if (idToFocusOn) {\n    setTimeout(() =>\n        document.getElementById(idToFocusOn).focus(), 0)\n  }\n}\n\n// Misc for dialogs\nexport const diagnosticLogStyle = \"color: yellowgreen\"\nexport const logoutConfirmationMessage =\n    \"Would you like to log out?\"\nexport const lockConfirmationMessage = \"Would you like to lock this group? \" +\n    \"Note that users will no longer be able to join!\"\nexport const leaveConfirmationMessage = \"Would you like to leave this group? You will \" +\n    \"also leave this group's parent group (if exists) and this group's subgroups (if any)!\"\nexport const deleteConfirmationMessage = \"Would you like to delete this group? \" +\n    \"Doing so will delete this group's subgroups (if any)! \"\nexport const roundConfirmationMessage = (a, b) => \"It seems that you set \" +\n    \"your meeting duration to \" + b + \" minutes. Is it okay if we round that \" +\n    \"up to \" + a + \" minutes?\"\nexport const roundCancelAlert =\n    \"Alright, no rounding; so please edit your input!\"\nexport const inputTooShortAlert = (a, b, c) => \"Hey, that \" + c + \" is way too \" +\n    \"short! Please provide one above \" + b + \" characters (current: \" + a + \").\"\nexport const inputTooLongAlert = (a, b, c) => \"Hey, that \" + c + \" is way too \" +\n    \"long! Please stay under \" + b + \" characters (current: \" + a + \").\"","import {\n  cols, dayNames,\n  rows, subdivisions, timeIntervalMinutes\n} from \"./definitions\";\n\n// Recursively creates a deep copy of an array\nexport const clone = items => items.map(item => Array.isArray(item) ? clone(item) : item);\n\n// Transposes an array of arrays\nexport const transpose = array => array[0].map((_, colIndex) => array.map(row => row[colIndex]));\n\n// Converts a vector from local time to UTC, or vice versa\nexport const vecLocalToOrFromUTC = (vec, toUTC = true) => {\n  const offset = (toUTC ? -1 : 1) * new Date().getTimezoneOffset() / 60 * subdivisions\n  return [...vec.slice(offset), ...vec.slice(0, offset)]\n}\n\n// Mutates and returns a list of groups by timezone-correcting their meeting\n// times and fixing up some other fields for both the times and groups\nexport const listOfGroupsUtcToLocalAndOtherStuff = (list, user) => {\n  const indexUtcToLocal = i => {\n    const offset = new Date().getTimezoneOffset() / 60 * subdivisions\n    return (i - offset + rows * cols) % (rows * cols)\n  }\n  return list.map(group => {\n    group.meetingTimes = group.meetingTimes.map(mt => {\n      mt.startIndex = indexUtcToLocal(mt.startIndex) // Override!\n      mt.endIndex = indexUtcToLocal(mt.endIndex) // Override!\n      mt.groupName = group.name\n      mt.groupRgb = group.rgb\n      if (!mt.rgb || mt.rgb === \"#FFFFFF\") {\n        mt.rgb = group.rgb\n      }\n      return mt\n    })\n    if (group.members.includes(user)) {\n      group.members = [user, ...group.members.filter(item => item !== user)]\n    }\n    return group\n  })\n}\n\n// Converts a schedule vector to a schedule table, or vice versa\nexport const tableToVec = table => {\n  return transpose(table).flat()\n}\nexport const vecToTable = vec => {\n  if (vec.length !== rows * cols) {\n    console.error(\"Bad vector size!\")\n    return null\n  }\n  let table = []\n  for (let i = 0; i < cols; i++) {\n    table.push(vec.slice(rows * i, rows * (i + 1)))\n  }\n  return transpose(table);\n}\n\n// Converts a schedule vector index to a schedule table index, or vice versa\nexport const vecIndexToTableIndex = i => [i % rows, Math.floor(i / rows)]\nexport const tableIndexToVecIndex = (r, c) => c * rows + r\n\n// Converts index to time\nexport const vecIndexToString = (i, returnDayString = false, check = \"\") => {\n  const div = Math.floor(i / rows) % cols, mod = i % rows\n  const dayString = dayNames[div].slice(0, 3)\n  const hours = Math.floor(mod / subdivisions)\n  const hourString = (hours % 12 ? hours % 12 : 12).toString()\n  const ampm = \" \" + ((hours < 12) ? \"am\" : \"pm\")\n  let minuteString = (mod % subdivisions * timeIntervalMinutes).toString()\n  if (minuteString.length < 2) minuteString = \"0\" + minuteString\n  const result = (dayString === check ? \"\" : dayString) + \" \" +\n      hourString + \":\" + minuteString + ampm\n  if (returnDayString) return [result, dayString]\n  return result\n}\nexport const vecIndexPairToString = (i, j) => {\n  const [res1, ds1] = vecIndexToString(i, true)\n  const res2 = vecIndexToString(j + 1, false, ds1)\n  return res1 + \" to \" + res2\n}\n\n// Recursively checks arrays for equality\nexport const arraysEqual = (a, b) => {\n  if (a === b) return true\n  if (a == null || b == null) return false\n  if (a.length !== b.length) return false\n  for (let i = 0; i < a.length; ++i) {\n    if (!arraysEqual(a[i], b[i])) {\n      return false\n    }\n  }\n  return true\n}","import {cols, rows} from \"./definitions\";\nimport {vecToTable} from \"./arrayHelperFunctions\";\n\nexport const randInt = (min = 1000, max = 9999) => {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\nexport const randAlphaNum = (qty) => {\n  const letters = \"QWERTYUPASDFGHJKLZXCVBNM\", alpha = []\n  while (qty > 0) {\n    alpha.push((Math.random() < 0.5) ? randInt(0, 9) : letters[randInt(0, 23)])\n    qty--\n  }\n  return alpha.join(\"\")\n}\nexport const randWord = (qty) => {\n  let words = [\"Club\", \"Texture\", \"Coat\", \"Interest\", \"Focus\", \"Post\",\n    \"Spring\", \"Fall\", \"Club\", \"Daily\", \"Weekly\", \"Spark\", \"Bubble\", \"Exam\",\n    \"Task\", \"Cook\", \"Team\", \"Airport\", \"Group\", \"First\", \"Day\", \"Project\",\n    \"Discussion\", \"Club\", \"Stage\", \"Test\", \"Order\", \"Assignment\", \"Coding\",\n    \"Sports\", \"Potato\", \"Nerd\", \"Meeting\", \"Group\", \"Fruit\", \"Complete\",\n    \"Pink\", \"Core\", \"Hard\", \"Call\", \"Plan\", \"Way\", \"Discussion\", \"Full\",\n    \"Group\", \"Life\", \"Plot\", \"Test\", \"CS\", \"Debate\", \"Supper\", \"Dinner\",\n    \"Mass\", \"Effect\", \"Team\", \"Easy\", \"Control\", \"Development\", \"Exam\", \"Group\",\n    \"Ideation\", \"Update\", \"Project\", \"Meeting\", \"Last\", \"Final\", \"Meeting\",\n  ], list = []\n  while (qty > 0) {\n    const word = words[randInt(0, words.length - 1)]\n    words = words.filter(ele => ele !== word)\n    list.push(word)\n    qty--\n  }\n  return list\n}\nexport const randSchedule = (len = rows * cols) => {\n  const vec = Array(len)\n  while (len > 3) {\n    vec[len - 1] = Math.random() < 0.5;\n    vec[len - 2] = vec[len - 1];\n    vec[len - 3] = vec[len - 1];\n    vec[len - 4] = vec[len - 1];\n    len -= 4\n  }\n  return vecToTable(vec)\n}\nexport const filledSchedule = (bool) => {\n  Array.from(Array(rows), () => new Array(cols).fill(bool))\n}","import './zScheduleEditor.css';\nimport {useCallback, useEffect, useState} from \"react\";\nimport React from \"react\"\nimport {\n  baseUrl,\n  cols, compressDelay, config, curry, dayNames,\n  defaultOpacity, diagnosticLogStyle, hexStringToRgba,\n  horizontalBorderWidth, pinnedOpacity, rows,\n  subdivisions, verticalBorderWidth\n} from \"./utils/definitions\";\nimport {\n  clone,\n  tableToVec,\n  vecIndexToTableIndex,\n  vecLocalToOrFromUTC, vecToTable\n} from \"./utils/arrayHelperFunctions\";\nimport axios from \"axios\";\nimport {filledSchedule} from \"./utils/randomHelperFunctions\";\n\n// Definitions\nconst widthStyle = {width: 100 / cols + \"%\"}\nconst outlineChunks = true\nconst framesForAnimation = 20 // A little thing to make the pinned times animate\n\n// Just To Fix Extremely Annoying Subpixel Bug on Chrome\nconst roundForChrome = (num) => {\n  if (navigator.userAgent.indexOf(\"Chrome\") > -1) {\n    // console.log(\"Chrome detected!\")\n    return Math.round(num)\n  }\n  return num\n}\n\n// Helpers\nconst selectRegion = (info, endRow, endCol) => {\n  const copy = clone(info.table)\n  let startRow = info.row, startCol = info.col\n  if (startRow > endRow) {\n    startRow = endRow\n    endRow = info.row\n  }\n  if (startCol > endCol) {\n    startCol = endCol\n    endCol = info.col\n  }\n  for (let i = startRow; i <= endRow; i++) {\n    for (let j = startCol; j <= endCol; j++) {\n      copy[i][j] = info.setTo\n    }\n  }\n  return copy\n}\nconst generateTimeLabels = () => {\n  const range = [...Array(rows / subdivisions).keys()]\n  return range.map((ele) => {\n    const hour = ele % 12 ? ele % 12 : 12\n    const ampm = \" \" + ((ele < 12) ? \"am\" : \"pm\")\n    return <div key={ele} className=\"ScheduleEditorTimesCell\">\n      <span className={\"ScheduleEditorTimesContent\" +\n      (hour % 3 ? \" hideWhenCompressed\" : \" notHideWhenCompressed\")}>\n        {hour + \":00\" + ampm}\n      </span>\n    </div>\n  })\n}\nconst ijToTableDataId = (i, j) => \"row\" + i + \"col\" + j\nconst generateSECellOverlays = (selectedTimes, rerenderTrigger) => {\n  if (rerenderTrigger) {\n    // Do nothing\n  }\n  const {times, pinnedTimes, highlightedTime} = selectedTimes\n  const scheduleEditorTable = document.getElementById(\"ScheduleEditorTable\")\n  if (!scheduleEditorTable) return\n  const tableRect = scheduleEditorTable.getBoundingClientRect()\n  const parH = tableRect.height\n  const compT = -tableRect.top\n  const compL = -tableRect.left\n  const divList = []\n  if (highlightedTime) {\n    appendSEOverlayDivStyle(divList, highlightedTime, parH, compT, compL, \"highlighted\")\n  }\n  for (let i = 0; i < times.length; i++) {\n    appendSEOverlayDivStyle(divList, times[i], parH, compT, compL)\n  }\n  for (let i = 0; i < pinnedTimes.length; i++) {\n    appendSEOverlayDivStyle(divList, pinnedTimes[i], parH, compT, compL, \"pinnedBorder\")\n    appendSEOverlayDivStyle(divList, pinnedTimes[i], parH, compT, compL, \"pinned\")\n  }\n  return (\n      <React.Fragment>\n        {divList.map((ele, i) =>\n            <div key={i} className={\"SEOverlay hasTooltip\" + ele.extraClass}\n                 data-tooltip={ele.extraTooltip}\n                 style={ele.extraStyle}/>)}\n      </React.Fragment>\n  )\n}\nconst appendSEOverlayDivStyle = (divStyles, meetingTime, parH, compT, compL, extraClass = \"\") => {\n  // Extract information from meetingTime\n  let {startIndex, endIndex, groupName, rgb} = meetingTime\n  const [startI, startJ] = vecIndexToTableIndex(startIndex)\n  const [endI, endJ] = vecIndexToTableIndex(endIndex)\n  const endCell = document.getElementById(ijToTableDataId(endI, endJ % cols))\n  if (!endCell) return\n  const endCellRect = endCell.getBoundingClientRect()\n  const opacity = extraClass === \"pinned\" ? pinnedOpacity : defaultOpacity\n  const bgColor = hexStringToRgba(rgb, opacity)\n  // Create overlay divs for this one meetingTime\n  for (let j = startJ; j <= endJ; j++) {\n    const currCell = j === startJ ?\n        document.getElementById(ijToTableDataId(startI, startJ % cols)) :\n        document.getElementById(ijToTableDataId(0, j % cols))\n    if (currCell === null) {\n      console.error(\"BAD!! appendSEOverlayDivStyle screwed up\")\n      console.log(\"j\", j, \"startI\", startI, \"startJ\", startJ)\n      continue\n    }\n    const currCellRect = currCell.getBoundingClientRect()\n    const height = j === endJ ?\n        endCellRect.top + endCellRect.height - currCellRect.top :\n        parH - currCellRect.top - compT\n    let newStyle = {\n      extraClass: \" \" + extraClass,\n      extraTooltip: \"Meeting time for \\\"\" + groupName + \"\\\"\",\n      extraStyle: {\n        top: (currCellRect.top + compT - .5) + \"px\",\n        left: roundForChrome(currCellRect.left + compL - .5) + \"px\",\n        height: (height + horizontalBorderWidth) + \"px\",\n        width: (currCell.getBoundingClientRect().width + verticalBorderWidth) + \"px\",\n        backgroundColor: extraClass === \"highlighted\" || extraClass === \"pinnedBorder\" ?\n            \"transparent\" : bgColor,\n      }\n    }\n    divStyles.push(newStyle)\n  }\n\n}\n\n// Functional component: a when2meet-style schedule editor\nfunction ScheduleEditor({loginToken, selectedTimes}) {\n  // States\n  const [compressed, setCompressed] = useState(true)\n  const [rerenderTrigger, setRerenderTrigger] = useState(0)\n  const [scheduleTable, setScheduleTable] = useState(null)\n  const [selectStartInfo, setSelectStartInfo] = useState(null)\n  const utcOffset = -new Date().getTimezoneOffset() / 60\n\n  // Listeners\n  const onMouseDownBeginSelection = (e, row, col) => {\n    e.preventDefault()\n    if (compressed) return\n    const newInfo = {\n      row: row, col: col,\n      table: clone(scheduleTable),\n      setTo: !scheduleTable[row][col]\n    }\n    setSelectStartInfo(newInfo)\n    setScheduleTable(selectRegion(newInfo, row, col))\n  }\n  const onMouseMoveContinueSelection = (e, row, col) => {\n    e.preventDefault()\n    if (compressed || !selectStartInfo) return\n    setScheduleTable(selectRegion(selectStartInfo, row, col))\n  }\n  const onMouseLeaveOrUpEndSelection = useCallback(e => {\n    e.preventDefault()\n    if (compressed || !selectStartInfo) return\n    if (e.target === document ||\n        document.getElementById(\"ScheduleEditorInner\")\n            .contains(e.target)) setSelectStartInfo(null)\n  }, [compressed, selectStartInfo, setSelectStartInfo])\n  const onClickCompressEditor = useCallback((e, compress = true) => {\n    if ((compress && document.getElementById(\"ScheduleEditorInner\")\n        .contains(e.target))) return\n    if (selectStartInfo) {\n      setSelectStartInfo(null)\n      return\n    }\n    e.stopPropagation()\n    setCompressed(compress)\n    if (compress !== compressed) {\n      const repeatRerender = (i) => {\n        if (i > framesForAnimation) return\n        setRerenderTrigger(i);\n        setTimeout(() => repeatRerender(i + 1), compressDelay / framesForAnimation)\n      }\n      repeatRerender(0)\n    }\n  }, [compressed, selectStartInfo])\n\n  // The Big One: Accessibility\n  const traverseCell = curry((dir, {row, col}) => {\n    let i = row, j = col\n    switch (dir) {\n      case \"start\":\n        i = 0\n        j = 0\n        break\n      case \"end\":\n        i = rows - 1\n        j = cols - 1\n        break\n      case \"up\":\n        i = (row - 1 + rows) % rows\n        break\n      case \"down\":\n        i = (row + 1) % rows\n        break\n      case \"left\":\n        j = (col - 1 + cols) % cols\n        break\n      case \"right\":\n        j = (col + 1) % cols\n        break\n      default:\n        return\n    }\n    if (!document.getElementById(ijToTableDataId(i, j))) {\n      console.log(\"Error in traverseCell: \" + row + \", \" + col\n          + \" -\" + dir + \"-> \" + i + \", \" + j)\n      return\n    }\n    document.getElementById(ijToTableDataId(i, j)).focus()\n  })\n  const selectCell = ({row, col}) => {\n    if (selectStartInfo) {\n      setSelectStartInfo(null)\n      return\n    }\n    const newInfo = {\n      row: row, col: col,\n      table: clone(scheduleTable),\n      setTo: !scheduleTable[row][col]\n    }\n    setSelectStartInfo(newInfo)\n    setScheduleTable(selectRegion(newInfo, row, col))\n  }\n  const onKeyDownSECellHandler = (e, row, col) => {\n    const keyCommands = {\n      ArrowUp: traverseCell(\"up\"),\n      ArrowDown: traverseCell(\"down\"),\n      ArrowLeft: traverseCell(\"left\"),\n      ArrowRight: traverseCell(\"right\"),\n      Enter: selectCell,\n      q: traverseCell(\"start\"),\n      e: traverseCell(\"end\"),\n      w: traverseCell(\"up\"),\n      s: traverseCell(\"down\"),\n      a: traverseCell(\"left\"),\n      d: traverseCell(\"right\"),\n      \" \": selectCell,\n    }\n    if (typeof keyCommands[e.key] === \"function\") {\n      e.preventDefault()\n      e.stopPropagation()\n      keyCommands[e.key]({row, col})\n    }\n  }\n  const onFocusSECell = (e, row, col) => {\n    if (compressed) {\n      e.preventDefault()\n      e.stopPropagation()\n      if (document.getElementById(\"ScheduleEditorOverlay\")) {\n        document.getElementById(\"ScheduleEditorOverlay\").focus()\n      }\n      return\n    }\n    if (selectStartInfo) {\n      setScheduleTable(selectRegion(selectStartInfo, row, col))\n    }\n  }\n  const onTabOrShiftTab = e => {\n    if (e.key !== \"Tab\") return\n    e.preventDefault()\n    e.stopPropagation()\n    if (!e.shiftKey) {\n      if (document.getElementById(\"createGroupButton\")) {\n        document.getElementById(\"createGroupButton\").focus()\n      }\n      return\n    }\n    if (document.getElementById(\"usernameSpan\")) {\n      document.getElementById(\"usernameSpan\").focus()\n    }\n  }\n\n  // JSX Helpers\n  const generateSECell = (cell, i, j, str) => {\n    // Attributes for SECell\n    const id = ijToTableDataId(i, j)\n    const classes = [\"SECell\", str, ...(cell ? [\" filled\"] : [])]\n    // Chunk borders\n    if (outlineChunks && cell) {\n      classes.push(typeof scheduleTable[i - 1] === \"undefined\" ? \" topMostEdge\" :\n          !scheduleTable[i - 1][j] ? \" topEdge\" : \"\")\n      classes.push(typeof scheduleTable[i + 1] === \"undefined\" ? \" bottomMostEdge\" :\n          !scheduleTable[i + 1][j] ? \" bottomEdge\" : \"\")\n      classes.push(typeof scheduleTable[i][j - 1] === \"undefined\" ? \" leftMostEdge\" :\n          !scheduleTable[i][j - 1] ? \" leftEdge\" : \"\")\n      classes.push(typeof scheduleTable[i][j + 1] === \"undefined\" ? \" rightMostEdge\" :\n          !scheduleTable[i][j + 1] ? \" rightEdge\" : \"\")\n    }\n    return (\n        <td id={id} key={j} className={classes.join(\"\")} style={widthStyle}\n            tabIndex={0} onKeyDown={e => onKeyDownSECellHandler(e, i, j)}\n            onFocus={e => onFocusSECell(e, i, j)}\n            onMouseDown={e => onMouseDownBeginSelection(e, i, j)}\n            onMouseMove={e => onMouseMoveContinueSelection(e, i, j)}/>\n    )\n  }\n\n  // Update database scheduleTable every edit\n  useEffect(() => {\n    if (!scheduleTable || selectStartInfo) return\n    // Diagnostics\n    console.log(\"%cSending request to update user's schedule.\", diagnosticLogStyle)\n    // Axios request\n    const body = {schedule: vecLocalToOrFromUTC(tableToVec(scheduleTable))}\n    axios.post(baseUrl + \"/user/schedule\", body, config(loginToken))\n        .then(response => {\n          if (!response.data.message) {\n            console.error(\"Response is missing field response.data.message!\")\n            console.log(response)\n          }\n        })\n        .catch(error => {\n          console.log(error)\n          alert(\"Bad connection? We couldn't update your schedule, sorry!\")\n        })\n  }, [scheduleTable, selectStartInfo, loginToken])\n\n  // Request scheduleTable for first time\n  useEffect(() => {\n    if (scheduleTable) return\n    // Diagnostics\n    console.log(\"%cSending request to get user's schedule.\", diagnosticLogStyle)\n    // Axios request\n    axios.get(baseUrl + \"/user/schedule\", config(loginToken))\n        .then(response => {\n          if (response.data.schedule) {\n            setScheduleTable(vecToTable(\n                vecLocalToOrFromUTC(response.data.schedule, false)))\n          } else {\n            console.error(\"Response is missing field response.data.schedule!\")\n            console.log(response)\n          }\n        })\n        .catch(error => {\n          console.log(error)\n          alert(\"Bad connection? We couldn't get your schedule, sorry!\")\n        })\n  }, [scheduleTable, loginToken])\n\n  // Setting window listener\n  useEffect(() => {\n    document.addEventListener(\"mouseup\", onMouseLeaveOrUpEndSelection)\n    document.addEventListener(\"mouseleave\", onMouseLeaveOrUpEndSelection)\n    window.addEventListener(\"click\", onClickCompressEditor)\n    return () => {\n      document.removeEventListener(\"mouseup\", onMouseLeaveOrUpEndSelection)\n      document.removeEventListener(\"mouseleave\", onMouseLeaveOrUpEndSelection)\n      window.removeEventListener(\"click\", onClickCompressEditor)\n    }\n  }, [onMouseLeaveOrUpEndSelection, onClickCompressEditor])\n\n  // Return\n  return (\n      <div id=\"ScheduleEditorOuter\">\n        <div id=\"ScheduleEditorInner\" className={\"shadow paperTexture\" +\n        (compressed ? \" compressed\" : \" notCompressed\")}>\n          {compressed &&\n          <button id=\"ScheduleEditorOverlay\" className=\"tabHighlightable hasTooltip\"\n                  onClick={e => onClickCompressEditor(e, false)}\n                  data-tooltip=\"Expand Editor\" onKeyDown={onTabOrShiftTab}>\n          </button>}\n          <div id=\"ScheduleEditorTop\">\n            <p>{\"Click and drag to toggle.\"}</p>\n            <span id=\"Unavailable\">Unavailable</span>\n            <span id=\"Available\">Available</span>\n            <br/>\n            <p>{\"Times are displayed in your local timezone, UTC\"\n            + (utcOffset > 0 ? \"+\" + utcOffset : utcOffset) + \".\"}</p>\n            <br/>\n            <table id=\"ScheduleEditorHeaders\">\n              <tbody>\n              <tr>\n                {dayNames.slice(0, cols).map((ele, i) =>\n                    <td key={i} style={widthStyle}>{ele.slice(0, 3)}</td>)}\n              </tr>\n              </tbody>\n            </table>\n          </div>\n          <div id=\"ScheduleEditorBottom\">\n            <div id=\"ScheduleEditorTimes\">{generateTimeLabels()}</div>\n            <div id=\"ScheduleEditorTableWrapper\">\n              {(selectedTimes.pinnedTimes.length > 0\n                  || selectedTimes.times.length > 0\n                  || selectedTimes.highlightedTime)\n              && generateSECellOverlays(selectedTimes, rerenderTrigger)}\n              <div id=\"ScheduleEditorTableInnerWrapper\">\n                <table id=\"ScheduleEditorTable\">\n                  <tbody id=\"ScheduleEditorTableBody\">\n                  {scheduleTable ? scheduleTable.map((row, i) => {\n                    // Hour and half-hour markings\n                    const str = (i % subdivisions ?\n                        (i % Math.floor(subdivisions / 2) ? \"\" : \" half\") : \" hour\")\n                    return (\n                        <tr key={i} className={\"SERow\" + str}>\n                          {row.map((cell, j) => generateSECell(cell, i, j, str))}\n                        </tr>)\n                  }) : filledSchedule(true)}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n  );\n}\n\nexport default ScheduleEditor;","import \"./zMeetingTimeCard.css\";\nimport {\n  baseUrl,\n  config,\n  diagnosticLogStyle,\n  enterToClick,\n  hexStringToRgba,\n  increment\n} from \"./utils/definitions\";\nimport axios from \"axios\";\nimport {vecIndexPairToString} from \"./utils/arrayHelperFunctions\";\n\n// Functional component: a single meeting time inside the meeting group card\nexport function MeetingTimeCard({\n                                  mt, selectedTimes, setSelectedTimes, pref, setPrefs,\n                                  loginToken, isMember, highestScore, setGroupRefreshCount,\n                                }) {\n  // Listeners\n  const onMouseEnterHighlightTime = () =>\n      setSelectedTimes((prev) => {\n        return {\n          times: prev.times,\n          pinnedTimes: prev.pinnedTimes,\n          highlightedTime: mt,\n        }\n      })\n  const onClickTogglePinnedTime = e => {\n    e.stopPropagation()\n    console.log(\"Pinning\", e.type, e.target)\n    setSelectedTimes((prev) => {\n      // Toggle pinned status\n      const updatedIsPinned = (prev.pinnedTimes.find(pmt => pmt.id === mt.id) === undefined)\n      console.log(\"%cSending request to update user's pin on meeting time \" +\n        mt.id + \" to \" + updatedIsPinned + \".\", diagnosticLogStyle)\n      // Axios request\n      const body = { meetingTimeId: mt.id, updatedIsPinned: updatedIsPinned }\n      axios.post(`${baseUrl}/group/time/pin`,\n        body, config(loginToken))\n        .then(response => {\n          if (response.data.message) {\n            setGroupRefreshCount(increment)\n          } else {\n            console.error(\"Response is missing field response.data.message!\")\n            console.log(response)\n          }\n        })\n        .catch(error => {\n          console.log(error)\n        })\n      return {\n        times: prev.times,\n        pinnedTimes: updatedIsPinned ?\n            [mt, ...prev.pinnedTimes] :\n            prev.pinnedTimes.filter(pmt => pmt.id !== mt.id),\n        highlightedTime: mt,\n      }\n    })\n  }\n  const onSetPreference = e => {\n    e.stopPropagation()\n    const newPref = Number(e.target.value)\n    setPrefs(prev => ({...prev, [mt.id]: newPref}))\n    // Diagnostics\n    console.log(\"%cSending request to update user's preference for group \" +\n        mt.meetingGroupId + \".\", diagnosticLogStyle)\n    // Axios request\n    const body = {meetingTimeId: mt.id, updatedScore: newPref}\n    axios.post(`${baseUrl}/group/time/score`,\n        body, config(loginToken))\n        .then(response => {\n          if (response.data.message) {\n            setGroupRefreshCount(increment)\n          } else {\n            console.error(\"Response is missing field response.data.message!\")\n            console.log(response)\n          }\n        })\n        .catch(error => {\n          console.log(error)\n        })\n  }\n\n  // Return\n  return (\n      <div className=\"MeetingTimeCard tabHighlightable\" tabIndex={0}\n           onFocus={onMouseEnterHighlightTime}\n           onMouseEnter={onMouseEnterHighlightTime}\n           onClick={onClickTogglePinnedTime}\n           onKeyDown={e => enterToClick(onClickTogglePinnedTime, e)}>\n        <span className=\"insideTabHighlightable\"\n              tabIndex={-1}\n              style={{\n                backgroundColor:\n                    highestScore === mt.totalPreferenceScore ? \"honeydew\" : \"white\",\n              }}>\n          <span className=\"MeetingTimeColor\"\n                style={{backgroundColor: hexStringToRgba(mt.rgb, 0.75)}}>\n            {typeof selectedTimes.pinnedTimes.find(pmt => pmt.id === mt.id) !== \"undefined\" &&\n            <span className=\"pinned\">{\"P\"}</span>}\n          </span>\n          <span className=\"MeetingTimeContent\">\n            {vecIndexPairToString(mt.startIndex, mt.endIndex)}\n          </span>\n          {isMember && (\n              <div className=\"PreferenceSelection\">\n                <span>\n                  <input type=\"radio\" name={mt.id} checked={pref === 1} value={1}\n                         onChange={onSetPreference} onClick={e => e.stopPropagation()}/>\n                  <label className=\"NotPreferred\"/>\n                </span>\n                <span>\n                  <input type=\"radio\" name={mt.id} checked={pref === 2} value={2}\n                         onChange={onSetPreference} onClick={e => e.stopPropagation()}/>\n                  <label className=\"NeutralPreferred\"/>\n                </span>\n                <span>\n                  <input type=\"radio\" name={mt.id} checked={pref === 3} value={3}\n                         onChange={onSetPreference} onClick={e => e.stopPropagation()}/>\n                  <label className=\"Preferred\"/>\n                </span>\n              </div>)}\n        </span>\n      </div>\n  );\n}\n","import \"./zMeetingGroupCard.css\";\nimport {\n  baseUrl,\n  config,\n  diagnosticLogStyle,\n  enterToClick,\n  hexStringToRgba,\n  increment,\n  lockConfirmationMessage,\n  leaveConfirmationMessage,\n  deleteConfirmationMessage, minutesToHourMin\n} from \"./utils/definitions\";\nimport axios from \"axios\";\nimport {useEffect, useState} from \"react\";\nimport React from \"react\";\nimport {MeetingTimeCard} from \"./MeetingTimeCard\";\n\nfunction MeetingGroupCardButton({onClick, extraClass = {}, label, tooltip = \"\", content}) {\n\n  let classes = \"MeetingGroupCardButton tabHighlightable \" + extraClass\n  if (tooltip) classes += \" hasTooltip\"\n\n  return (\n      <button className={classes} onClick={onClick}\n              aria-label={label} data-tooltip={tooltip}>\n        <span className=\"insideTabHighlightable\">\n          <span className=\"MeetingGroupCardButtonContent\">\n          {content}\n          </span>\n        </span>\n      </button>\n  )\n}\n\n// Functional component: a single meeting group card\nfunction MeetingGroupCard({\n                            meetingGroup, selectedTimes, setSelectedTimes,\n                            username, loginToken, setGroupRefreshCount,\n                          }) {\n  // States\n  const [prefs, setPrefs] = useState({})\n  const [highestScore, setHighestScore] = useState(0)\n  const [memberListCollapsed, setMemberListCollapsed] = useState(true)\n  const isLocked = meetingGroup.parentMeetingGroupId || meetingGroup.currentState === \"LOCKED\"\n  const hasMembers = meetingGroup.members && meetingGroup.members.length > 0\n  const groupColorStyle = {\n    backgroundColor: meetingGroup.rgb ? hexStringToRgba(meetingGroup.rgb, 0.75) : \"\"\n  }\n\n  // Determine highest score based on this meetingGroup's meetingTimes\n  useEffect(() => {\n    if (!meetingGroup.meetingTimes || !meetingGroup.meetingTimes.length) return\n    const newMax = Math.max.apply(Math, meetingGroup.meetingTimes.map(\n        mt => mt.totalPreferenceScore))\n    setHighestScore(newMax)\n  }, [meetingGroup])\n\n  // Fetch time preferences\n  useEffect(() => {\n    // Axios request\n    axios.get(`${baseUrl}/group/${meetingGroup.id}/time`,\n        config(loginToken))\n        .then(response => {\n          if (response.data.preferences) {\n            for (let pref of response.data.preferences) {\n              setPrefs((prev) => ({\n                ...prev,\n                [pref.meetingTimeId]: pref.preferenceScore,\n              }))\n              setSelectedTimes(prev => {\n                // Toggle pinned status\n                const mt = meetingGroup.meetingTimes.find(t => t.id === pref.meetingTimeId)\n                const currentIsPinned = (prev.pinnedTimes.find(pmt => pmt.id === mt.id) !== undefined)\n                if (pref.isPinned && !currentIsPinned) {\n                  return {\n                    times: prev.times,\n                    pinnedTimes: [mt, ...prev.pinnedTimes],\n                    highlightedTime: mt,\n                  }\n                } else if (!pref.isPinned && currentIsPinned) {\n                  return {\n                    times: prev.times,\n                    pinnedTimes: prev.pinnedTimes.filter(pmt => pmt.id !== mt.id),\n                    highlightedTime: mt,\n                  }\n                } else {\n                  return prev\n                }\n              })\n            }\n          } else {\n            console.error(\"Response is missing field response.data.preferences!\")\n            console.log(response)\n          }\n        })\n  }, [meetingGroup, setSelectedTimes, loginToken])\n\n  // Clean up pinnedTimes in selectedTimes on unmount\n  useEffect(() => {\n    return () => setSelectedTimes(prev => {\n      return {\n        times: prev.times,\n        pinnedTimes: prev.pinnedTimes.filter(pmt => pmt.meetingGroupId !== meetingGroup.id),\n        highlightedTime: prev.highlightedTime\n      }\n    })\n  }, [meetingGroup, setSelectedTimes])\n\n  // Listeners\n  const onMouseOverShowAllTimes = e => {\n    const bottom = document\n        .getElementById(\"meetingGroup\" + meetingGroup.id)\n        .querySelector(\".MeetingGroupCardInnerBottom\")\n    if (!bottom || bottom.contains(e.target)) return\n    setSelectedTimes((prev) => {\n      return {\n        times: meetingGroup.meetingTimes,\n        pinnedTimes: prev.pinnedTimes,\n        highlightedTime: prev.highlightedTime,\n      }\n    })\n  }\n  const onMouseLeaveUnShowAllTimes = () =>\n      setSelectedTimes((prev) => {\n        return {\n          times: [],\n          pinnedTimes: prev.pinnedTimes,\n          highlightedTime: null,\n        }\n      })\n  const onMouseEnterUnShowAllTimes = () =>\n      setSelectedTimes((prev) => {\n        return {\n          times: [],\n          pinnedTimes: prev.pinnedTimes,\n          highlightedTime: prev.highlightedTime,\n        }\n      })\n  const onClickCopyId = e => {\n    e.stopPropagation()\n    const temp = document.createElement(\"input\")\n    document.body.append(temp)\n    temp.value = \"#\" + meetingGroup.joinCode\n    temp.select()\n    temp.setSelectionRange(0, 99999)\n    document.execCommand(\"copy\")\n    temp.remove()\n    document\n        .getElementById(\"idCopier\" + meetingGroup.joinCode)\n        .setAttribute(\"data-tooltip\", \"Copied!\")\n    setTimeout(() => {\n      document\n          .getElementById(\"idCopier\" + meetingGroup.joinCode)\n          .setAttribute(\"data-tooltip\", \"Copy Group Code\")\n    }, 1250)\n  }\n  const onClickLockGroup = () => {\n    // Check that group has members\n    if (meetingGroup.members && meetingGroup.members.length === 0) {\n      alert(\"You can't lock a meeting group that has no members!\")\n      return\n    }\n    if (window.confirm(lockConfirmationMessage)) {\n      // Diagnostics\n      console.log(\n          \"%cSending request to lock group \" + meetingGroup.id + \".\",\n          diagnosticLogStyle\n      )\n      // Axios request\n      axios\n          .post(\n              `${baseUrl}/group/${meetingGroup.id}/lock`,\n              null,\n              config(loginToken)\n          )\n          .then((response) => {\n            if (response.data.message) {\n              setGroupRefreshCount(increment)\n            } else {\n              console.error(\"Response is missing field response.data.message!\")\n              console.log(response)\n            }\n          })\n          .catch((error) => {\n            console.log(error)\n            setGroupRefreshCount(increment)\n          })\n    }\n  }\n  const onClickLeaveGroup = () => {\n    // Check that group has members\n    if (window.confirm(leaveConfirmationMessage)) {\n      // Diagnostics\n      console.log(\n          \"%cSending request to leave group \" + meetingGroup.id + \".\",\n          diagnosticLogStyle\n      )\n      // Axios request\n      axios\n          .post(\n              `${baseUrl}/group/${meetingGroup.joinCode}/leave`,\n              null,\n              config(loginToken)\n          )\n          .then((response) => {\n            if (response.data.message) {\n              setGroupRefreshCount(increment)\n            } else {\n              console.error(\"Response is missing field response.data.message!\")\n              console.log(response)\n            }\n          })\n          .catch((error) => {\n            console.log(error)\n            setGroupRefreshCount(increment)\n          })\n    }\n  }\n  const onClickDeleteGroup = () => {\n    // Check that group has members\n    if (window.confirm(deleteConfirmationMessage)) {\n      // Diagnostics\n      console.log(\n          \"%cSending request to delete group \" + meetingGroup.id + \".\",\n          diagnosticLogStyle\n      )\n      // Axios request\n      axios\n          .delete(\n              `${baseUrl}/group/${meetingGroup.id}`,\n              config(loginToken)\n          )\n          .then((response) => {\n            if (response.data.message) {\n              setGroupRefreshCount(increment)\n            } else {\n              console.error(\"Response is missing field response.data.message!\")\n              console.log(response)\n            }\n          })\n          .catch((error) => {\n            console.log(error)\n            setGroupRefreshCount(increment)\n          })\n    }\n  }\n  const onMouseLeaveUnHighlightTime = () =>\n      setSelectedTimes(prev => {\n        return {\n          times: prev.times,\n          pinnedTimes: prev.pinnedTimes,\n          highlightedTime: null,\n        }\n      })\n\n  // JSX Helper\n  const memToJsx = members => {\n    const others = members.filter(mem => mem !== username)\n        .map(ele => ele === meetingGroup.adminUsername ? ele + \" (admin)\" : ele)\n        .join(\", \")\n    if (members.includes(username)) {\n      const displayYou = (others ? \"you, \" : \"just you\")\n      return (\n          <span>\n            <span className=\"italicized\">{displayYou}</span>\n            {others && <span>{others}</span>}\n          </span>\n      )\n    }\n    return (<span>{others}</span>)\n  }\n\n  // Return\n  return (\n      <div id={\"meetingGroup\" + meetingGroup.id}\n           className=\"MeetingGroupCard paperTexture shadow\"\n           onFocus={onMouseOverShowAllTimes}\n           onMouseOver={onMouseOverShowAllTimes}\n           onMouseLeave={onMouseLeaveUnShowAllTimes}>\n        <div className=\"MeetingGroupCardInnerTop\">\n          <button id={\"idCopier\" + meetingGroup.joinCode}\n                  className={\"idCopier \" + (isLocked ? \"\" : \"hasTooltip\")}\n                  onClick={onClickCopyId} data-tooltip=\"Copy Group Code\"\n                  onKeyDown={(e) => {\n                    enterToClick(onClickCopyId, e, \"idCopier\" + meetingGroup.joinCode)\n                  }} tabIndex={0} aria-label=\"Copy Group Code\"\n                  {...(isLocked ? {\"aria-disabled\": true, disabled: true} : {})}>\n            <span className=\"insideTabHighlightable\">\n              <span className=\"idCopierColor\" style={groupColorStyle}/>\n              <span className=\"idCopierContent\">\n                {isLocked ? \"locked.\" : \"#\" + meetingGroup.joinCode}\n              </span>\n            </span>\n          </button>\n          <span className=\"MeetingGroupCardName\">{meetingGroup.name}</span>\n          <div className=\"MeetingGroupCardButtonWrapper\">\n            {meetingGroup.adminUsername === username &&\n            meetingGroup.currentState === \"OPEN\" &&\n            <MeetingGroupCardButton onClick={onClickLockGroup} content={\"Lock\"}\n                                    label={\"Lock Group\"} tooltip={\"Lock Group\"}/>}\n            {meetingGroup.isMember &&\n            <MeetingGroupCardButton onClick={onClickLeaveGroup} content={\"Leave\"}\n                                    label={\"Leave Group\"} tooltip={\"Leave Group\"}/>}\n            {meetingGroup.adminUsername === username &&\n            <MeetingGroupCardButton onClick={onClickDeleteGroup} content={\"Delete\"}\n                                    label={\"Delete Group\"} tooltip={\"Delete Group\"}/>}\n          </div>\n        </div>\n\n        <div className=\"MeetingDuration MeetingGroupCardInnerMiddle\">\n          <span className=\"semiBold MeetingGroupCardInnerMiddleLabel\">\n            {\"Meeting duration:\"}\n          </span>\n          <span>\n            {minutesToHourMin(meetingGroup.meetingDurationMinutes)}\n          </span>\n        </div>\n        {meetingGroup.subgroupSize > 0 && (\n            <div className=\"SubgroupSize MeetingGroupCardInnerMiddle\">\n              <span className=\"semiBold MeetingGroupCardInnerMiddleLabel\">\n                {\"Subgroup size:\"}\n              </span>\n              <span>\n                {meetingGroup.subgroupSize}\n              </span>\n            </div>)}\n        <div className=\"Members MeetingGroupCardInnerMiddle\">\n          <span className=\"semiBold MeetingGroupCardInnerMiddleLabel\">\n            {\"Members (\" + meetingGroup.members.length + \"):\"}\n          </span>\n          {hasMembers ?\n              <React.Fragment>\n                {meetingGroup.members.length > 4 ?\n                    <button className=\"MembersList cursorPointer hasTooltip\"\n                            data-tooltip={memberListCollapsed ? \"Expand Member List\" : \"Collapse Member List\"}\n                            onClick={() => setMemberListCollapsed((x) => !x)}>\n                      {memberListCollapsed ?\n                          memToJsx(meetingGroup.members.slice(0, 3)) :\n                          memToJsx(meetingGroup.members)}\n                      {memberListCollapsed && <span>{\", ... (click for more)\"}</span>}\n                    </button> :\n                    <span className=\"MembersList\">\n                      {memToJsx(meetingGroup.members)}\n                    </span>}\n              </React.Fragment> :\n              <span className=\"NoMembers\">{\"...none!\"}</span>}\n        </div>\n\n        {meetingGroup.meetingTimes && meetingGroup.meetingTimes.length > 0 && (\n            <div className=\"MeetingGroupCardInnerBottom\"\n                 onMouseEnter={onMouseEnterUnShowAllTimes}\n                 onMouseLeave={onMouseLeaveUnHighlightTime}>\n              <div className=\"MeetingTimeCardsWrapper\">\n                {meetingGroup.meetingTimes.map((mt, i) => (\n                    <MeetingTimeCard\n                        key={i} mt={mt} pref={prefs[mt.id]} setPrefs={setPrefs}\n                        selectedTimes={selectedTimes} setSelectedTimes={setSelectedTimes}\n                        isMember={meetingGroup.isMember} loginToken={loginToken}\n                        highestScore={highestScore}\n                        setGroupRefreshCount={setGroupRefreshCount}/>))}\n              </div>\n            </div>)}\n      </div>\n  )\n}\n\nexport default MeetingGroupCard;\n","import './zMeetingGroupsView.css';\nimport MeetingGroupCard from \"./MeetingGroupCard\";\n\n// Functional component: a card display of meeting groups\nfunction MeetingGroupsView({\n                             meetingGroups, selectedTimes, setSelectedTimes,\n                             username, loginToken, setGroupRefreshCount\n                           }) {\n\n  // Return\n  return (\n      <div className=\"MeetingGroupsViewOuter\">\n        <div className=\"MeetingGroupsView\">\n          {meetingGroups.slice(0).reverse().map((ele, i) =>\n              <MeetingGroupCard key={i} meetingGroup={ele}\n                                selectedTimes={selectedTimes}\n                                setSelectedTimes={setSelectedTimes}\n                                username={username}\n                                loginToken={loginToken}\n                                setGroupRefreshCount={setGroupRefreshCount}/>)}\n        </div>\n      </div>\n  );\n}\n\nexport default MeetingGroupsView","import './zTextbox.css';\n\nfunction TextBox({\n                   id, label, placeholder, extraClass = \"\", type,\n                   value, onChangeFunc, extraLabelAttrs = {}, extraAttrs = {}\n                 }) {\n\n  return (\n      <div className={\"TextBox \" + extraClass}>\n        <label htmlFor={id} {...extraLabelAttrs}>{label}</label>\n        <input id={id} className=\"TextBoxInput\"\n               type={type} step=\"any\" placeholder={placeholder}\n               required aria-required autoComplete=\"off\"\n               onChange={e => onChangeFunc(e.target.value)} value={value}\n               {...extraAttrs}>\n        </input>\n      </div>\n  )\n}\n\nexport default TextBox;","import './zPanelViews.css';\nimport axios from \"axios\";\nimport {useState} from \"react\";\nimport TextBox from \"./Textbox\";\nimport {randInt} from \"./utils/randomHelperFunctions\";\nimport {\n  baseUrl,\n  config,\n  diagnosticLogStyle,\n  increment,\n  meetingGroupNameMaxLength, meetingGroupNameMinLength,\n  inputTooShortAlert, inputTooLongAlert,\n  rgbToHexString, roundCancelAlert,\n  roundConfirmationMessage,\n  timeIntervalMinutes\n} from \"./utils/definitions\";\n\n// Functional component: a panel to set group meeting settings when creating one\nfunction CreateGroupView({loginToken, setGroupRefreshCount, setCreateGroupPanelOpen}) {\n  // States\n  const [meetingGroupName, setMeetingGroupName] = useState(\"\")\n  const [meetingDurationMinutes, setMeetingDurationMinutes] = useState(\"60\")\n  const [subgroupSize, setSubgroupSize] = useState(\"\")\n\n  // Listeners\n  const onClickCloseCreateGroupPanel = (e, isCancelButton = false) => {\n    if (!isCancelButton && document.getElementById(\"CreateGroupPanel\")\n        .contains(e.target)) return\n    e.preventDefault()\n    e.stopPropagation()\n    setCreateGroupPanelOpen(false)\n  }\n  const onSubmitCreateGroup = e => {\n    e.preventDefault()\n    e.stopPropagation()\n    // Checking meetingDurationMinutes\n    const roundedMinutes = Math.ceil(meetingDurationMinutes / timeIntervalMinutes)\n        * timeIntervalMinutes;\n    if (roundedMinutes !== parseInt(meetingDurationMinutes)) {\n      console.log(roundedMinutes)\n      console.log(meetingDurationMinutes)\n      if (!window.confirm(roundConfirmationMessage(\n          roundedMinutes, meetingDurationMinutes))) {\n        alert(roundCancelAlert)\n        return\n      }\n    }\n    // Checking meetingGroupName (imagine naive profanity-checking here)\n    if (meetingGroupName.length < meetingGroupNameMinLength) {\n      alert(inputTooShortAlert(meetingGroupName.length, meetingGroupNameMinLength, \"group name\"))\n      return\n    } else if (meetingGroupName.length > meetingGroupNameMaxLength) {\n      alert(inputTooLongAlert(meetingGroupName.length, meetingGroupNameMaxLength, \"group name\"))\n      return\n    }\n    // Diagnostics\n    console.log(\"%cSending request to create new meeting group.\", diagnosticLogStyle)\n    // Axios request\n    const body = {\n      name: meetingGroupName,\n      meetingDurationMinutes: roundedMinutes,\n      subgroupSize: subgroupSize ? subgroupSize : 0,\n      rgb: rgbToHexString(randInt(0, 255), randInt(0, 255), randInt(0, 255)),\n    }\n    axios.post(baseUrl + \"/group\", body, config(loginToken))\n        .then(response => {\n          if (response.data.joinCode) {\n            setGroupRefreshCount(increment)\n            setCreateGroupPanelOpen(false)\n          } else {\n            console.error(\"Response is missing field response.data.joinCode!\")\n            console.log(response)\n          }\n        })\n        .catch(error => {\n          console.log(error)\n          alert(\"Failed to create group!\")\n        })\n  }\n  const onShiftTabGoToLastInput = e => {\n    if (!e.shiftKey || e.key !== \"Tab\") return\n    e.preventDefault()\n    document.getElementById(\"jsTarget2\").focus()\n  }\n  const onTabGoToFirstInput = e => {\n    if (e.shiftKey || e.key !== \"Tab\") return\n    e.preventDefault()\n    document.getElementById(\"jsTarget1\").focus()\n  }\n\n  // Return\n  return (\n      <div id=\"CreateGroupView\" onClick={onClickCloseCreateGroupPanel}>\n        <form id=\"CreateGroupPanel\" className=\"Panel paperTexture biggestShadow\"\n              onSubmit={onSubmitCreateGroup}>\n          <div className=\"PanelHeader\">\n            {\"Create a Meeting Group\"}\n          </div>\n          <div className=\"PanelSubheader\">\n            {\"You will be the admin of this group.\"}\n          </div>\n          <TextBox label={\"Meeting Group Name:\"} placeholder={\"e.g. Science Project Meeting\"}\n                   extraClass={\"longer\"} type={\"text\"}\n                   extraAttrs={{id: \"jsTarget1\", autoFocus: true, onKeyDown: onShiftTabGoToLastInput}}\n                   value={meetingGroupName} onChangeFunc={setMeetingGroupName}/>\n          <TextBox label={\"Meeting Duration (in minutes):\"} placeholder={\"meeting duration\"}\n                   extraClass={\"longer\"} type={\"number\"} value={meetingDurationMinutes}\n                   onChangeFunc={setMeetingDurationMinutes}/>\n          <div className=\"PanelText PanelDivider\">\n            {\"Note: The following is only for meeting groups to be split\" +\n            \" into subgroups! Leave empty if not applicable.\"}\n          </div>\n          <TextBox label={\"Size per Subgroup (optional):\"}\n                   placeholder={\"e.g. 2, for pairs (optional)\"}\n                   extraClass={\"longer\"} type={\"number\"} value={subgroupSize}\n                   extraAttrs={{\n                     min: 2,\n                     step: 1,\n                     required: false,\n                     \"aria-required\": false,\n                   }} onChangeFunc={setSubgroupSize}/>\n          <div className=\"panelButtonsWrapper longer\">\n            <button className=\"panelButtons tabHighlightable\"\n                    type=\"button\" aria-label={\"Cancel\"}\n                    onClick={e => onClickCloseCreateGroupPanel(e, true)}>\n              <span className=\"insideTabHighlightable\">\n                {\"Cancel\"}\n              </span>\n            </button>\n            <button id=\"jsTarget2\" className=\"panelButtons tabHighlightable\"\n                    type=\"submit\" aria-label={\"Create Meeting Group\"}\n                    onKeyDown={onTabGoToFirstInput}>\n              <span className=\"insideTabHighlightable\">\n                {\"Create Meeting Group\"}\n              </span>\n            </button>\n          </div>\n        </form>\n      </div>\n  );\n}\n\nexport default CreateGroupView;\n","import \"./zUserView.css\";\nimport ScheduleEditor from \"./ScheduleEditor\";\nimport MeetingGroupsView from \"./MeetingGroupsView\";\nimport {useEffect, useState} from \"react\";\nimport {\n  baseUrl,\n  config, diagnosticLogStyle, enterToClick,\n  groupIdLength, increment,\n  logoutConfirmationMessage, meetingGroupViewRefreshDelay,\n} from \"./utils/definitions\";\nimport {randAlphaNum} from \"./utils/randomHelperFunctions\";\nimport axios from 'axios';\nimport CreateGroupView from \"./CreateGroupView\";\nimport {listOfGroupsUtcToLocalAndOtherStuff} from \"./utils/arrayHelperFunctions\";\n\nconst groupIdRegexNoHex = new RegExp(\"^[A-Z\\\\d]{\" + groupIdLength + \"}$\", \"i\");\nconst groupIdRegexHex = new RegExp(\"^#([A-Z\\\\d]{\" + groupIdLength + \"})$\", \"i\");\n\n// Functional component: the user homepage\nfunction UserView({\n                    username, setUsername,\n                    loginToken, setLoginToken,\n                  }) {\n  // States\n  const [selectedTimes, setSelectedTimes] = useState({\n    times: [],\n    pinnedTimes: [],\n    highlightedTime: null,\n  });\n  const [meetingGroups, setMeetingGroups] = useState([])\n  const [meetingGroupRefreshCount, setGroupRefreshCount] = useState(0)\n  const [createGroupPanelOpen, setCreateGroupPanelOpen] = useState(false)\n\n  // Listeners\n  const onClickOpenCreateGroupPanel = e => {\n    e.preventDefault()\n    e.stopPropagation()\n    setCreateGroupPanelOpen(true)\n  }\n  const onClickPromptJoinGroup = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    // Ask for meeting group invite id\n    const placeholder = \"e.g. #\" + randAlphaNum(groupIdLength);\n    let input = prompt(\n        \"What's the ID of the group you'd like to join?\",\n        placeholder\n    );\n    if (!input) return;\n    // Check input\n    if (input === placeholder || input.trim().length === 0) {\n      alert(\"Hmm, it seems like you didn't provide any group ID.\");\n      return;\n    }\n    if (input.trim().match(groupIdRegexNoHex) &&\n        window.confirm(\"Did you mean: #\" + input.trim() + \"?\")) {\n      input = \"#\" + input.trim()\n    }\n    const match = input.match(groupIdRegexHex)\n    if (!match || match.length !== 2) {\n      alert(\n          \"Whoops! Your group ID should be formatted as a hex (#) \" +\n          \"followed by \" + groupIdLength + \" alphanumeric characters.\"\n      );\n      return;\n    }\n    // Check that user is not already in group\n    if (meetingGroups.find(mg => mg.joinCode === match[1] && mg.isMember)) {\n      alert(\"...Hey! You're already a member of that group!\")\n      return\n    }\n    // Diagnostics\n    console.log(\"%cSending request to join group #\" + match[1] + \".\",\n        diagnosticLogStyle)\n    // Axios request\n    axios.post(`${baseUrl}/group/${match[1]}/join`,\n        null, config(loginToken))\n        .then(response => {\n          if (response.data.message) {\n            setGroupRefreshCount(increment)\n          } else {\n            console.error(\"Response is missing field response.data.message!\")\n            console.log(response)\n          }\n        })\n        .catch(error => {\n          console.log(error)\n          alert(\"Failed to join group!\")\n        })\n  }\n  const promptLogout = e => {\n    e.stopPropagation()\n    e.preventDefault()\n    if (window.confirm(logoutConfirmationMessage)) {\n      setUsername(\"\")\n      setLoginToken(\"\")\n    }\n  }\n\n  // Increment refresh count every few seconds\n  useEffect(() => {\n    const intervalHandle = setInterval(() => {\n      setGroupRefreshCount(increment)\n    }, meetingGroupViewRefreshDelay)\n    return () => {\n      clearInterval(intervalHandle)\n    }\n  }, [setGroupRefreshCount])\n\n  // Fetch user's group whenever refresh count is incremented\n  useEffect(() => {\n    // Diagnostics\n    // console.log(\"%cSending request to get user's groups.\", diagnosticLogStyle)\n    // Axios request\n    axios.get(baseUrl + \"/user/groups\", config(loginToken))\n        .then(response => {\n          if (response.data.groups) {\n            setMeetingGroups(listOfGroupsUtcToLocalAndOtherStuff(\n                response.data.groups, username))\n          } else {\n            console.error(\"Response is missing field response.data.groups!\")\n            console.log(response)\n          }\n        })\n        .catch(error => {\n          console.log(error)\n        })\n  }, [meetingGroupRefreshCount, loginToken, username])\n\n  // Return\n  return (\n      <div id=\"UserView\">\n        {createGroupPanelOpen &&\n        <CreateGroupView loginToken={loginToken}\n                         setGroupRefreshCount={setGroupRefreshCount}\n                         setCreateGroupPanelOpen={setCreateGroupPanelOpen}/>}\n        <div id=\"UserViewUpper\">\n          <h2 id=\"UserViewUpperText\" className=\"noSelect\">\n            <span>{\"Hello, \"}</span>\n            <button id=\"usernameSpan\" className=\"tabHighlightable\" tabIndex={0}\n                  onClick={promptLogout} onKeyDown={e => enterToClick(promptLogout, e)}>\n              <span className=\"insideTabHighlightable\">\n                {username}\n              </span>\n            </button>\n            <span>{\"!\"}</span>\n          </h2>\n        </div>\n        <div id=\"UserViewLower\">\n          <div className=\"Wrapper\">\n            <div className=\"WrapperHeader noSelect\">\n              <h3> {\"Weekly Schedule\"} </h3>\n            </div>\n            <ScheduleEditor loginToken={loginToken}\n                            selectedTimes={selectedTimes}/>\n          </div>\n          <div className=\"Wrapper\">\n            <div className=\"WrapperHeader noSelect\">\n              <h3> {\"Meeting Groups\"} </h3>\n              <button id=\"createGroupButton\"\n                      aria-label=\"Create a New Group\"\n                      className=\"WrapperHeaderButton paperTexture shadow tabHighlightable\"\n                      onClick={onClickOpenCreateGroupPanel}>\n                <span className=\"insideTabHighlightable hasTooltip\"\n                      data-tooltip=\"Create a New Group\">\n                  <span id=\"plus\">{\"+\"}</span>\n                  <span id=\"createGroupText\">{\"Create\"}</span>\n                </span>\n              </button>\n              <button id=\"joinGroupButton\"\n                      aria-label=\"Join a Group By Its Id\"\n                      className=\"WrapperHeaderButton paperTexture shadow tabHighlightable\"\n                      onClick={onClickPromptJoinGroup}>\n                <span className=\"insideTabHighlightable hasTooltip\"\n                      data-tooltip=\"Join a Group By Its Id\">\n                  <span id=\"plus\">{\"+\"}</span>\n                  <span id=\"joinGroupText\">{\"Join\"}</span>\n                </span>\n              </button>\n            </div>\n            <MeetingGroupsView meetingGroups={meetingGroups}\n                               selectedTimes={selectedTimes}\n                               setSelectedTimes={setSelectedTimes}\n                               username={username}\n                               loginToken={loginToken}\n                               setGroupRefreshCount={setGroupRefreshCount}/>\n          </div>\n        </div>\n      </div>\n  )\n}\n\nexport default UserView","import './zPanelViews.css';\nimport axios from \"axios\";\nimport {useState} from \"react\";\nimport TextBox from \"./Textbox\";\nimport {randInt} from \"./utils/randomHelperFunctions\";\nimport {\n  baseUrl,\n  diagnosticLogStyle,\n  inputTooLongAlert, inputTooShortAlert, passwordMaxLength, passwordMinLength,\n  usernameMaxLength,\n  usernameMinLength\n} from \"./utils/definitions\";\n\nconst loginHeaderOptions =\n    [\"Welcome back!\", \"Hey there! ()\", \"Howdy. ()\", \"Hello again!\"]\nconst loginSubheaderDefault =\n    \"Please log in below:\"\nconst registerHeaderOptions =\n    [\"A new user?\", \"Pleased to meet ya!\", \"Signing up? :P\", \"New phone, who dis?\"]\nconst registerSubheaderDefault =\n    \"Enter your details to create a new account:\"\n\n// Functional component: the login page\nfunction LoginView({setUsername, setLoginToken}) {\n  // States\n  const [loginHeader, setLoginHeader] = useState(loginHeaderOptions[randInt(0, 3)])\n  const [loginSubheader, setLoginSubheader] = useState(loginSubheaderDefault)\n  const [usernameInput, setUsernameInput] = useState(\"\")\n  const [passwordInput, setPasswordInput] = useState(\"\")\n  const [registeringMode, setRegisteringMode] = useState(false)\n\n  // Listeners\n  const onSubmitRegisterOrLogin = e => {\n    e.preventDefault()\n    e.stopPropagation()\n    let postUrl, body, errorAlert\n    if (registeringMode) {\n      // Check username for length\n      if (usernameInput.length < usernameMinLength) {\n        alert(inputTooShortAlert(usernameInput.length, usernameMinLength, \"username\"))\n        return\n      } else if (usernameInput.length > usernameMaxLength) {\n        alert(inputTooLongAlert(usernameInput.length, usernameMaxLength, \"username\"))\n        return\n      }\n      // Check password for length\n      if (passwordInput.length < passwordMinLength) {\n        alert(inputTooShortAlert(passwordInput.length, passwordMinLength, \"password\"))\n        return\n      } else if (passwordInput.length > passwordMaxLength) {\n        alert(inputTooLongAlert(passwordInput.length, passwordMaxLength, \"password\"))\n        return\n      }\n      // Diagnostics\n      console.log(\"%cSending request to register new user \\\"\" + usernameInput + \"\\\".\",\n          diagnosticLogStyle)\n      // Preparing request\n      postUrl = baseUrl + \"/auth/register\"\n      body = {\n        username: usernameInput,\n        password: passwordInput,\n      }\n      errorAlert = \"That username is already taken!\"\n    } else {\n      // Diagnostics\n      console.log(\"%cSending request to login as user \\\"\" + usernameInput + \"\\\".\",\n          diagnosticLogStyle)\n      // Preparing request\n      postUrl = baseUrl + \"/auth/login\"\n      body = {\n        name: \"name\",\n        username: usernameInput,\n        password: passwordInput,\n      }\n      errorAlert = \"Incorrect login details!\"\n    }\n    // Axios request\n    axios.post(postUrl, body)\n        .then(response => {\n          if (typeof response.data.token === \"string\") {\n            setLoginToken(response.data.token)\n            setUsername(response.data.username)\n          } else {\n            console.error(\"Response is missing field response.data.token!\")\n            console.log(response)\n          }\n        })\n        .catch(error => {\n          console.log(error)\n          alert(errorAlert)\n        })\n  }\n  const onClickToggleRegisteringMode = () => {\n    if (registeringMode) {\n      setLoginHeader(loginHeaderOptions[randInt(0, loginHeaderOptions.length - 1)])\n      setLoginSubheader(loginSubheaderDefault)\n      setRegisteringMode(false)\n    } else {\n      setLoginHeader(registerHeaderOptions[randInt(0, registerHeaderOptions.length - 1)])\n      setLoginSubheader(registerSubheaderDefault)\n      setRegisteringMode(true)\n    }\n  }\n\n  // Return\n  return (\n      <div id=\"LoginView\">\n        <form className=\"Panel paperTexture biggerShadow\"\n              onSubmit={onSubmitRegisterOrLogin} autoComplete=\"off\">\n          <div className=\"PanelHeader\">\n            {loginHeader}\n          </div>\n          <div className=\"PanelSubheader\">\n            {loginSubheader}\n          </div>\n          <TextBox label={\"Username:\"} placeholder={\"username\"} type={\"text\"}\n                   extraAttrs={{\n                     autoFocus: true,\n                     minLength: usernameMinLength,\n                     maxLength: usernameMaxLength\n                   }}\n                   value={usernameInput} onChangeFunc={setUsernameInput}/>\n          <TextBox label={\"Password:\"} placeholder={\"password\"} type={\"password\"}\n                   extraAttrs={{\n                     minLength: passwordMinLength, maxLength: passwordMaxLength\n                   }}\n                   value={passwordInput} onChangeFunc={setPasswordInput}/>\n          <div className=\"panelButtonsWrapper\">\n            <button className=\"panelButtons tabHighlightable\" type=\"button\"\n                    aria-label={registeringMode ? \"Return to Login Screen\"\n                        : \"Go To Signup Screen\"}\n                    onClick={onClickToggleRegisteringMode}>\n              <span className=\"insideTabHighlightable\">\n                {registeringMode ? \"Return to Login Screen\" : \"New User? Register here!\"}\n              </span>\n            </button>\n            <button className=\"panelButtons tabHighlightable\" type=\"submit\"\n                    aria-label={registeringMode ? \"Register\" : \"Login\"}>\n              <span className=\"insideTabHighlightable\">\n                {registeringMode ? \"Register\" : \"Login\"}\n              </span>\n            </button>\n          </div>\n        </form>\n      </div>\n  );\n}\n\nexport default LoginView;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './zIndex.css';\nimport UserView from './UserView';\nimport {useEffect} from \"react\";\nimport LoginView from \"./LoginView\";\nimport { CookiesProvider, useCookies } from \"react-cookie\";\n\nfunction App() {\n  const [cookies, setCookie] = useCookies([\"token\", \"username\"])\n  const { token, username } = cookies;\n\n  useEffect(() => {\n    document.title = username ?\n        \"Hello, \" + username + \"!\" :\n        \"Login\"\n  }, [username])\n\n  // If logged in\n  if (token) {\n    return <UserView username={username}\n                     setUsername={u => setCookie(\"username\", u)}\n                     loginToken={token}\n                     setLoginToken={t => setCookie(\"token\", t)}\n                     />\n  }\n  // Default\n  return <LoginView setUsername={u => setCookie(\"username\", u)}\n                    setLoginToken={t => setCookie(\"token\", t)}\n                    />\n\n}\n\nReactDOM.render(\n  <CookiesProvider>\n    <App/>\n  </CookiesProvider>,\n  document.getElementById('root')\n);"],"sourceRoot":""}